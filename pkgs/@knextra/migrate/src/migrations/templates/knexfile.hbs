/**
* @generated file, any updates might be overridden!
*/

import { config } from "{{importPathmap.connectFile}}";

{{#each files}}
import * as {{const}} from "{{importPath}}";
{{/each}}

const imports = {
{{#each files}}
  "{{name}}": {{const}},
{{/each}}
}

class MigrationSource {

  // Must return a Promise containing a list of migrations.
  // Migrations can be whatever you want,
  // they will be passed as arguments to getMigrationName
  // and getMigration
  getMigrations() {
    return Promise.resolve([
      {{#each files}}
      "{{name}}",
      {{/each}}
    ])
  }

  getMigrationName(file: string) {
    return file
  }

  getMigration(file: string) {
    return imports[file]
  }

}

export const {
  connection,
  client,
} = config

export const migrations = {
  ...config.migrations,
  directory: undefined,
  migrationSource: new MigrationSource,
}
